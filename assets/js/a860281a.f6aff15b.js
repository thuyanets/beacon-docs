(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{130:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return c})),n.d(t,"toc",(function(){return d})),n.d(t,"default",(function(){return p}));var a=n(3),i=n(7),r=(n(0),n(213)),o=n(317),s={title:"P2P Direct"},c={unversionedId:"advanced/flows/p2p-direct",id:"advanced/flows/p2p-direct",isDocsHomePage:!1,title:"P2P Direct",description:"Init",source:"@site/docs/advanced/flows/p2p-direct.mdx",slug:"/advanced/flows/p2p-direct",permalink:"/advanced/flows/p2p-direct",editUrl:"https://github.com/airgap-it/beacon-docs/edit/main/src/docs/advanced/flows/p2p-direct.mdx",version:"current",sidebar:"docs",previous:{title:"Local Mnemonic",permalink:"/advanced/flows/local-mnemonic"},next:{title:"P2P Extension",permalink:"/advanced/flows/p2p-extension"}},d=[{value:"Init",id:"init",children:[]},{value:"Permission Request",id:"permission-request",children:[]},{value:"Operation Request",id:"operation-request",children:[]},{value:"Signing Request",id:"signing-request",children:[]},{value:"Broadcast Request",id:"broadcast-request",children:[]}],l={toc:d};function p(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h2",{id:"init"},"Init"),Object(r.b)(o.a,{chart:"\nsequenceDiagram\n    dApp->>Wallet: Show QR Code (publicKey exchange)\n    Wallet->>Wallet: User scans QR code\n    Wallet->>dApp: Send own publicKey to dApp, connection established\n",mdxType:"Mermaid"}),Object(r.b)("h2",{id:"permission-request"},"Permission Request"),Object(r.b)(o.a,{chart:"\nsequenceDiagram\n    dApp->>Wallet: User Prompt (Do you want to pair?)\n    Wallet->>Wallet: Grant permissions\n    Wallet->>dApp: Return Address & Permissions\n",mdxType:"Mermaid"}),Object(r.b)("h2",{id:"operation-request"},"Operation Request"),Object(r.b)(o.a,{chart:"\nsequenceDiagram\n    dApp->>Wallet: Request\n    opt no threshold\n        Wallet->>Wallet: User confirmation\n    end\n    Wallet->>Wallet: Forge Operation\n    Wallet->>Wallet: Sign\n    Wallet->>Wallet: Broadcast\n    Wallet->>dApp: Response\n",mdxType:"Mermaid"}),Object(r.b)("h2",{id:"signing-request"},"Signing Request"),Object(r.b)(o.a,{chart:"\nsequenceDiagram\n    dApp->>Wallet: Request\n    opt no threshold\n        Wallet->>Wallet: User confirmation\n    end\n    Wallet->>Wallet: Sign\n    Wallet->>dApp: Response\n",mdxType:"Mermaid"}),Object(r.b)("div",{className:"admonition admonition-warning alert alert--danger"},Object(r.b)("div",{parentName:"div",className:"admonition-heading"},Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",{parentName:"h5",className:"admonition-icon"},Object(r.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},Object(r.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),Object(r.b)("div",{parentName:"div",className:"admonition-content"},Object(r.b)("p",{parentName:"div"},"Thresholds could be abused to sign contract calls. Wallets must reject request with parameters."))),Object(r.b)("h2",{id:"broadcast-request"},"Broadcast Request"),Object(r.b)(o.a,{chart:"\nsequenceDiagram\n    dApp->>Wallet: Request\n    Wallet->>Wallet: User confirmation\n    Wallet->>Wallet: Broadcast\n    Wallet->>dApp: Response\n",mdxType:"Mermaid"}))}p.isMDXComponent=!0},317:function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(377),o=n.n(r);o.a.initialize({startOnLoad:!0});t.a=function(e){var t=e.chart;return Object(a.useEffect)((function(){o.a.contentLoaded()}),[]),i.a.createElement("div",{className:"mermaid"},t)}},381:function(e,t,n){var a={"./locale":311,"./locale.js":311};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id=381}}]);