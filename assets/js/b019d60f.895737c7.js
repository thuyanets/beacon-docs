(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{131:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return o})),t.d(n,"metadata",(function(){return s})),t.d(n,"toc",(function(){return i})),t.d(n,"default",(function(){return l}));var a=t(3),r=t(7),c=(t(0),t(213)),o={title:"Introduction",slug:"/blockchains/introduction"},s={unversionedId:"blockchains/introduction",id:"blockchains/introduction",isDocsHomePage:!1,title:"Introduction",description:"Since the release of beacon-sdk version 3.0, Beacon supports multiple blockchains.",source:"@site/docs/blockchains/introduction.md",slug:"/blockchains/introduction",permalink:"/blockchains/introduction",editUrl:"https://github.com/airgap-it/beacon-docs/edit/main/src/docs/blockchains/introduction.md",version:"current",sidebar:"docs",previous:{title:"P2P Extension",permalink:"/advanced/flows/p2p-extension"},next:{title:"Usage",permalink:"/blockchains/usage"}},i=[{value:"Structure",id:"structure",children:[]}],p={toc:i};function l(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(c.b)("wrapper",Object(a.a)({},p,t,{components:n,mdxType:"MDXLayout"}),Object(c.b)("p",null,"Since the release of ",Object(c.b)("inlineCode",{parentName:"p"},"beacon-sdk")," version 3.0, Beacon supports multiple blockchains."),Object(c.b)("p",null,"Currently, 3 separate blockchain packages are available:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"Substrate (@airgap/beacon-blockchain-substrate)"),Object(c.b)("li",{parentName:"ul"},"Tezos (@airgap/beacon-blockchain-tezos)"),Object(c.b)("li",{parentName:"ul"},"Tezos Sapling (@airgap/beacon-blockchain-tezos-sapling)")),Object(c.b)("h3",{id:"structure"},"Structure"),Object(c.b)("p",null,"Every blockchain can define their own messages. Those messages are then wrapped in a message with additional metadata from the beacon protocol."),Object(c.b)("p",null,"See the docs about the individual packages for more information about the messages specific to certain blockchains."),Object(c.b)("h4",{id:"wrapper"},"Wrapper"),Object(c.b)("p",null,"In the Beacon protocol, every message is wrapped in the following wrapper."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-typescript"},"export interface BeaconMessageWrapper<T extends BeaconBaseMessage> {\n  id: string; // ID of the message. The same ID is used in the request and response\n  version: string;\n  senderId: string; // ID of the sender. This is used to identify the\n  message: T;\n}\n")),Object(c.b)("h4",{id:"blockchain-message"},"Blockchain Message"),Object(c.b)("p",null,"The layout for the basic message is the same for all blockchains."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-typescript"},"export interface BlockchainMessage<T extends string = string> {\n  blockchainIdentifier: T;\n  type: unknown;\n  blockchainData: unknown;\n}\n")),Object(c.b)("h4",{id:"permission-message"},"Permission Message"),Object(c.b)("p",null,"One core concept of Beacon is that as a first step (after establishing the connection), the dApp needs to request permissions to receive information about accounts and execute certain actions."),Object(c.b)("p",null,"For this reason, there are two messages, ",Object(c.b)("inlineCode",{parentName:"p"},"PermissionRequest")," and ",Object(c.b)("inlineCode",{parentName:"p"},"PermissionResponse"),", that are used to do the permission management."),Object(c.b)("p",null,"Those messages are handled differently from the generic ",Object(c.b)("inlineCode",{parentName:"p"},"BlockchainRequest")," and ",Object(c.b)("inlineCode",{parentName:"p"},"BlockchainResponse")," messages because they have to be completed first before any other action can take place."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-typescript"},"export interface PermissionRequestV3<T extends string = string>\n  extends BlockchainMessage<T> {\n  blockchainIdentifier: T;\n  type: BeaconMessageType.PermissionRequest;\n  blockchainData: {\n    appMetadata: AppMetadata; // Some additional information about the DApp\n    scopes: string[];\n  };\n}\n")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-typescript"},"export interface PermissionResponseV3<T extends string = string>\n  extends BlockchainMessage<T> {\n  blockchainIdentifier: T;\n  type: BeaconMessageType.PermissionResponse;\n  blockchainData: {\n    appMetadata: AppMetadata; // Some additional information about the Wallet\n    scopes: string[]; // Permissions that have been granted for this specific address / account\n  };\n}\n")),Object(c.b)("h4",{id:"request--response"},"Request / Response"),Object(c.b)("p",null,"Following are the generic messages of the Beacon Protocol. They can be extended by every blockchain to add blockchain specific data and behaviour."),Object(c.b)("p",null,"Please see the docs about the specific blockchain messages for examples."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-typescript"},"export interface BlockchainRequestV3<T extends string = string>\n  extends BlockchainMessage<T> {\n  blockchainIdentifier: T;\n  type: BeaconMessageType.BlockchainRequest;\n  accountId: string;\n  blockchainData: {\n    type: string;\n    scope: string;\n  };\n}\n")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-typescript"},"export interface BlockchainResponseV3<T extends string = string>\n  extends BlockchainMessage<T> {\n  blockchainIdentifier: T;\n  type: BeaconMessageType.BlockchainResponse;\n  // accountId is not present, because it can be fetched from the request\n  blockchainData: unknown;\n}\n")))}l.isMDXComponent=!0},213:function(e,n,t){"use strict";t.d(n,"a",(function(){return b})),t.d(n,"b",(function(){return h}));var a=t(0),r=t.n(a);function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){c(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=r.a.createContext({}),l=function(e){var n=r.a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},b=function(e){var n=l(e.components);return r.a.createElement(p.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},d=r.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,c=e.originalType,o=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),b=l(t),d=a,h=b["".concat(o,".").concat(d)]||b[d]||u[d]||c;return t?r.a.createElement(h,s(s({ref:n},p),{},{components:t})):r.a.createElement(h,s({ref:n},p))}));function h(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var c=t.length,o=new Array(c);o[0]=d;var s={};for(var i in n)hasOwnProperty.call(n,i)&&(s[i]=n[i]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var p=2;p<c;p++)o[p]=t[p];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,t)}d.displayName="MDXCreateElement"}}]);